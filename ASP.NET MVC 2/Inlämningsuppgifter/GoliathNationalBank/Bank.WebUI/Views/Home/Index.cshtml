@model CustomerViewModel

@inject SignInManager<IdentityUser> signInManager
@inject UserManager<IdentityUser> userManager
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.ajax.unobtrusive/3.2.4/jquery.unobtrusive-ajax.min.js"></script>

@if (signInManager.IsSignedIn(User))
{
    <div class="search-input">
        <form asp-controller="Home" asp-action="SearchCustomer" data-ajax="true" data-ajax-method="GET" data-ajax-mode="replace" data-ajax-update="#CustomerList" method="post">
            <input type="text" name="name" placeholder="Search for customer.." onblur="this.placeholder = 'Search for customer..'" onfocus="this.placeholder =''" />
            <input type="text" name="city" placeholder="Search for city.." onblur="this.placeholder = 'Search for city..'" onfocus="this.placeholder =''" />
            <button type="submit" class="standard-button">Search</button>
        </form>
    </div>
    <div class="bank-details">
        <p>Total accounts: @Model.CountOfAccounts</p>
        <p>Number of customers: @Model.CountOfCustomers</p>
        <p>Total balance: @Model.TotalBalance</p>
    </div>

    <div id="CustomerList"></div>
}
else
{
    <partial name="_LoginFormPartial" model="Model.AccountViewModel" />
}